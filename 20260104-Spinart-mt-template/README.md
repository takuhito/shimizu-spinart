# MovableType 年度別ナビゲーション自動化

このプロジェクトでは、MovableType のカスタムインデックステンプレートにおける「年度別ナビゲーション」の更新作業を自動化しました。

## 概要

これまでは毎年1月1日に手動で新しい年度のリンクを追加していましたが、MovableType のタグ（MTML）を活用することで、記事が存在する年度を自動的に抽出し、リンクを生成する仕組みに改善しました。

## 修正内容

### 対象ファイル
- [☆連載記事年度別ナビゲーション.mtml](file:///Users/takuhito/Library/CloudStorage/Dropbox-Design/%E8%97%A4%E7%94%B0%E6%8B%93%E4%BA%BA/%E2%98%85%E2%98%85%E2%98%85Antigravity-Dev/shimizu-Spinart/20260104-Spinart-mt-template/%E2%98%86%E9%80%A3%E8%BC%89%E8%A8%98%E4%BA%8B%E5%B9%B4%E5%BA%A6%E5%88%A5%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3.mtml)

### 実装のポイント
1.  **動的な年度取得**: `<mt:ArchiveList type="Yearly">` を使用。
2.  **デザインの保持**: Bootstrap の構造を維持。
4.  **フォーマッタ対策**: エディタの自動整形によるスペース挿入を防ぐため、ファイルを `.mtml` 拡張子に変更し、プロジェクト設定（`.vscode/settings.json`）で保存時の自動整形を無効化しています。
5.  **再構築エラーの防止**: `mt:ArchiveLink` を使わず直接パスを生成。

## 使用方法

1.  MovableType の管理画面で「インデックステンプテート」としてこのファイルを登録します。
2.  新しい年度の記事が公開されると、次回の「再構築」時に自動的にリンクが追加されます。

---
*作成日: 2026-01-04*

## 依頼主様へのご連絡用テキスト

以下のテキストをコピーして、依頼主様への報告にご活用ください。

---
**【報告：年度別ナビゲーションの自動化対応】**

これまで毎年手動で追加いただいていた「年度別ナビゲーション（年度リンク）」の更新作業を自動化いたしました。

**■ 対応内容**
- MTタグ（mt:ArchiveList）を使用し、記事が投稿されている年度を自動的にリンク生成するようテンプレートを修正しました。
- リンクURLは数値のみ（例：2026）、表示は「2026年」となるよう調整しました。
- これにより、今後1月1日が来ても手動でのリンク追加作業は不要となります。
- 既存のデザイン（ドロップダウン形式・ボタン形式）はそのまま維持しております。

**■ 動作の仕組み**
- 新しい年度（例：2026年）の記事が公開された状態で「再構築」を行うと、自動的にその年度のリンクが表示されるようになります。

**■ ご確認事項**
- 現在、2026年度を含め、記事が存在する全ての年度が正しくリストアップされているか、公開画面にてご確認をお願いいたします。
---
